function appInit(){myFMN=new FMNNetwork;var e=myFMN.getNetworks(),t=$("#network_chooser");for(var n in e)t.append('<option value="'+n+'">'+e[n]+"</option>");t.bind("change",onNetworkSelected);var r=$("#search");r.bind("submit",onFormSubmit)}function onNetworkSelected(){var e=parseInt(this.value,10);if(e>=0){var t=myFMN.getNetworks();myFMN.currentNetwork=t[e];var n=myFMN.getStations(myFMN.currentNetwork),r=$("#search>select");for(var i in n)r.append('<option value="'+i+'">'+n[i]+"</option>")}else alert("Please choose a network.")}function onModeClick(e){$("#mode").val(e)}function onFormSubmit(){var e=parseInt($("#from").value,10),t=parseInt($("#to").value,10),n=myFMN.getStations(myFMN.currentNetwork);if(e<0)alert("Please choose a departure Station");else if(t<0)alert("Please choose a destination Station");else if(e==t)alert("I think that it will be not so complicate ;)");else{var r=$("#mode").val();onSearchSuccess(myFMN.search(myFMN.currentNetwork,n[e],n[t],r))}return!1}function onSearchSuccess(e){if(e.length==0)alert("No result found :(");else{alert(e);var t=$("#result"),n=$("<ul />");for(var r in e)n.append("<li>"+e[r]+"</li>");t.html(n)}}var myFMN